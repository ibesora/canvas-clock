{"version":3,"sources":["utils.js","clock-renderer.js","clock.js","main.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["create2dCanvas","width","height","canvas","document","createElement","appendCanvasToDOM","body","appendChild","getCurrentTimeInMillis","date","Date","millisInASecond","secondsInAMinute","minutesInAnHour","millisInAMinute","millisInAnHour","getHours","getMinutes","getSeconds","getMilliseconds","easeInOutCubic","x","Math","pow","CanvasMargin","OuterCircleStrokeColor","CenterCircleRadius","CenterCircleLineWidth","CenterCircleStrokeColor","CenterCircleFillColor","HourMarkLength","HourMarkWidth","HourMarkColor","HoursHandleToWatchRadiusRatio","HoursHandleWidth","HoursHandleColor","MinutesMarkLength","MinutesMarkWidth","MinutesMarkColor","MinutesHandleWidth","MinutesHandleToWatchRadiusRatio","MinutesHandleColor","SecondsHandleWidth","SecondsHandleToWatchRadiusRatio","SecondsHandleColor","SecondsTailToWatchRadiusRatio","CangeModeAnimationDurationMillis","ClockRenderer","backgroundCanvas","clockState","state","ctx","getContext","backgroundCtx","regularModeIcon","getElementById","stopWatchModeIcon","canvasHalfWidth","canvasHalfHeight","circleRadians","PI","changeModeAnimationStart","renderBackgroundToOffscreenCanvas","elementToEnable","clockMode","ClockMode","RegularToStopWatch","elementToDisable","classList","add","remove","renderCirclesToBackgroundCanvas","renderMarksToBackgroundCanvas","renderCircles","clearRect","arc","min","strokeStyle","stroke","beginPath","lineWidth","fillStyle","renderMarks","outerRadius","i","angle","computeCircleAngle","renderMark","index","total","offset","outerStart","length","color","angleSin","sin","angleCos","cos","x1","y1","x2","y2","moveTo","lineTo","step","clear","drawBackground","drawForeground","requestAnimationFrame","frameStep","draw","drawImage","drawHandles","Regular","renderRegularModeHandles","StopWatch","renderStopWatchModeHandles","stopWatchMillis","StopWatchToRegular","renderModeChangeAnimation","ResettingStopWatch","renderResetStopWatch","currentTimeMillis","getRegularModeHandsValuesFromMillis","hoursHandValue","minutesHandValue","secondsHandValue","renderHandles","millis","secondsInAnHour","hours","minutes","seconds","clockRadius","quarterCircleAngle","secondsAngle","minutesAngle","hoursAngle","renderHandle","handleLength","handleWidth","handleColor","tailLength","getStopWatchModeHandsValuesFromMillis","getAnimValues","handsStartValues","handsEndValues","shouldEndAnimation","renderAnimationModeHandles","nowInMillis","rH","rM","rS","sH","sM","sS","sourceSecondsHandValue","targetSecondsHandValue","sourceMinutesHandValue","targetMinutesHandValue","sourceHoursHandValue","targetHoursHandValue","millisecondsInADecisecond","decisecondsToSecondsAngleMapping","minutesToHoursAngleMapping","secondsValue","animDuration","animProgress","mappedProgress","interpolateValue","progress","startValue","endValue","Clock","isStopWatchRunning","renderer","topButton","middleButton","bottomButton","stopWatchIntervalMillis","stopWatchIntervalId","addEventListeners","addEventListener","pauseStopWatch","startStopWatch","switchModeToStopWatch","switchModeToRegular","switchModeIcons","resetStopWatch","clearInterval","setInterval","increaseMillis","setStopWatchMillis","resetChangeModeAnimation","main","className","clock","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["export const create2dCanvas = (width = 300, height = 300) => {\n  const canvas = document.createElement('canvas')\n  canvas.width = width\n  canvas.height = height\n  return canvas\n}\n\nexport const appendCanvasToDOM = (canvas) => {\n  document.body.appendChild(canvas)\n}\n\nexport const getCurrentTimeInMillis = () => {\n  const date = new Date()\n  const millisInASecond = 1000\n  const secondsInAMinute = 60\n  const minutesInAnHour = 60\n  const millisInAMinute = secondsInAMinute * millisInASecond\n  const millisInAnHour = minutesInAnHour * millisInAMinute\n  return date.getHours() * millisInAnHour\n    + date.getMinutes() * millisInAMinute\n    + date.getSeconds() * millisInASecond\n    + date.getMilliseconds()\n}\n\nexport const easeInOutCubic = (x) => {\n  // This code is from https://easings.net/#easeInOutCubic\n  return x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2;\n}","import { ClockMode } from './clock'\nimport { getCurrentTimeInMillis, easeInOutCubic } from './utils'\n\n// Configuration options\nconst CanvasMargin = 10\nconst OuterCircleStrokeColor = '#92949C'\nconst CenterCircleRadius = 2\nconst CenterCircleLineWidth = 3\nconst CenterCircleStrokeColor = '#0C3D4A'\nconst CenterCircleFillColor = '#353535'\nconst HourMarkLength = 10\nconst HourMarkWidth = 2\nconst HourMarkColor = '#466B76'\nconst HoursHandleToWatchRadiusRatio = 0.7\nconst HoursHandleWidth = 2\nconst HoursHandleColor = '#000000'\nconst MinutesMarkLength = 5\nconst MinutesMarkWidth = 1\nconst MinutesMarkColor = '#C4D1D5'\nconst MinutesHandleWidth = 0.8\nconst MinutesHandleToWatchRadiusRatio = 0.8\nconst MinutesHandleColor = '#000000'\nconst SecondsHandleWidth = 0.5\nconst SecondsHandleToWatchRadiusRatio = 0.9\nconst SecondsHandleColor = '#ff0000'\nconst SecondsTailToWatchRadiusRatio = 0.1\nconst CangeModeAnimationDurationMillis = 500\n\nclass ClockRenderer {\n  constructor(canvas, backgroundCanvas, clockState) {\n    this.canvas = canvas\n    this.backgroundCanvas = backgroundCanvas\n    this.state = clockState\n    this.ctx = canvas.getContext('2d')\n    this.backgroundCtx = backgroundCanvas.getContext('2d')\n    this.regularModeIcon = document.getElementById('regular-mode-icon')\n    this.stopWatchModeIcon = document.getElementById('stopwatch-mode-icon')\n    this.canvasHalfWidth = canvas.width / 2\n    this.canvasHalfHeight = canvas.height / 2\n    this.circleRadians = Math.PI * 2\n    this.changeModeAnimationStart = 0\n\n    this.renderBackgroundToOffscreenCanvas()\n  }\n\n  switchModeIcons () {\n    const elementToEnable = this.state.clockMode === ClockMode.RegularToStopWatch\n      ? this.stopWatchModeIcon\n      : this.regularModeIcon \n    const elementToDisable = this.state.clockMode === ClockMode.RegularToStopWatch\n      ? this.regularModeIcon\n      : this.stopWatchModeIcon\n    elementToEnable.classList.add(\"active\")\n    elementToDisable.classList.remove(\"active\")\n  }\n\n  renderBackgroundToOffscreenCanvas() {\n    this.renderCirclesToBackgroundCanvas()\n    this.renderMarksToBackgroundCanvas()\n  }\n\n  renderCirclesToBackgroundCanvas() {\n    this.renderCircles(this.backgroundCtx)\n  }\n\n  renderCircles(ctx) {\n    ctx.clearRect(0, 0, this.backgroundCanvas.width, this.backgroundCanvas.height)\n    ctx.arc(this.canvasHalfWidth, this.canvasHalfHeight, Math.min(this.canvasHalfWidth,\n      this.canvasHalfHeight) - CanvasMargin, 0, this.circleRadians)\n    ctx.strokeStyle = OuterCircleStrokeColor\n    ctx.stroke()\n    ctx.beginPath()\n    ctx.arc(this.canvasHalfWidth, this.canvasHalfHeight, CenterCircleRadius, 0, this.circleRadians)\n    ctx.lineWidth = CenterCircleLineWidth\n    ctx.fillStyle = CenterCircleFillColor\n    ctx.strokeStyle = CenterCircleStrokeColor\n    ctx.stroke()\n  }\n\n  renderMarksToBackgroundCanvas() {\n    this.renderMarks(this.backgroundCtx)\n  }\n\n  renderMarks(ctx) {\n    const outerRadius = Math.min(this.canvasHalfWidth, this.canvasHalfHeight) - CanvasMargin\n    for (let i = 0; i < 60; ++i) {\n      if (i % 5 === 0) {\n        const angle = this.computeCircleAngle(i, 12)\n        this.renderMark(ctx, angle, outerRadius, HourMarkLength, HourMarkWidth, HourMarkColor)\n      } else {\n        const angle = this.computeCircleAngle(i, 60)\n        this.renderMark(ctx, angle, outerRadius, MinutesMarkLength, MinutesMarkWidth,\n          MinutesMarkColor)\n      }\n    }\n  }\n\n  computeCircleAngle(index, total, offset = 0) {\n    return (this.circleRadians * (index / total)) - offset\n  }\n\n  renderMark(ctx, angle, outerStart, length, lineWidth, color) {\n    const angleSin = Math.sin(angle)\n    const angleCos = Math.cos(angle)\n    const x1 = this.canvasHalfWidth + angleCos * outerStart\n    const y1 = this.canvasHalfHeight + angleSin * outerStart\n    const x2 = this.canvasHalfWidth + angleCos * (outerStart - length)\n    const y2 = this.canvasHalfHeight + angleSin * (outerStart - length)\n\n    ctx.lineWidth = lineWidth\n    ctx.beginPath()\n    ctx.moveTo(x1, y1)\n    ctx.lineTo(x2, y2)\n    ctx.strokeStyle = color\n    ctx.stroke()\n  }\n\n  draw(step) {\n    this.clear()\n    this.drawBackground()\n    this.drawForeground(step)\n    requestAnimationFrame((frameStep) => this.draw(frameStep))\n  }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n  }\n\n  drawBackground() {\n    this.ctx.drawImage(this.backgroundCanvas, 0, 0)\n  }\n\n  drawForeground(step) {\n    this.drawHandles(step)\n  }\n\n  drawHandles(step) {\n    if (this.state.clockMode === ClockMode.Regular) {\n      this.renderRegularModeHandles()\n    }\n    else if (this.state.clockMode === ClockMode.StopWatch) this.renderStopWatchModeHandles(this.state.stopWatchMillis)\n    else if (this.state.clockMode === ClockMode.RegularToStopWatch || this.state.clockMode === ClockMode.StopWatchToRegular) this.renderModeChangeAnimation(step)\n    else if (this.state.clockMode === ClockMode.ResettingStopWatch) this.renderResetStopWatch(step)\n  }\n\n  renderRegularModeHandles() {\n    const currentTimeMillis = getCurrentTimeInMillis()\n    const {\n      hoursHandValue,\n      minutesHandValue,\n      secondsHandValue\n    } = this.getRegularModeHandsValuesFromMillis(currentTimeMillis)\n    this.renderHandles(hoursHandValue, minutesHandValue, secondsHandValue)\n  }\n\n  getRegularModeHandsValuesFromMillis(millis) {\n    // In regular mode the hour, minute and second hands\n    // are the hour, minute and seconds values\n    const minutesInAnHour = 60\n    const secondsInAMinute = 60\n    const secondsInAnHour = minutesInAnHour * secondsInAMinute\n    const millisInASecond = 1000\n    let secondsHandValue = millis / millisInASecond\n    const hoursHandValue = secondsHandValue / secondsInAnHour\n    secondsHandValue %= secondsInAnHour\n    const minutesHandValue = secondsHandValue / secondsInAMinute\n    secondsHandValue %= secondsInAMinute\n    return { hoursHandValue, minutesHandValue, secondsHandValue }\n  }\n\n  renderHandles(hours, minutes, seconds) {\n    const clockRadius = this.canvasHalfWidth\n    const quarterCircleAngle = this.circleRadians / 4\n    const secondsAngle = this.computeCircleAngle(seconds, 60, quarterCircleAngle)\n    const minutesAngle = this.computeCircleAngle(minutes, 60, quarterCircleAngle)\n    const hoursAngle = this.computeCircleAngle(hours, 12, quarterCircleAngle)\n    this.renderHandle(secondsAngle, clockRadius * SecondsHandleToWatchRadiusRatio,\n      SecondsHandleWidth, SecondsHandleColor, clockRadius * SecondsTailToWatchRadiusRatio)\n    this.renderHandle(minutesAngle, clockRadius * MinutesHandleToWatchRadiusRatio,\n      MinutesHandleWidth, MinutesHandleColor)\n    this.renderHandle(hoursAngle, clockRadius * HoursHandleToWatchRadiusRatio,\n      HoursHandleWidth, HoursHandleColor)\n  }\n\n  renderHandle(angle, handleLength, handleWidth, handleColor, tailLength = 0) {\n    const angleSin = Math.sin(angle)\n    const angleCos = Math.cos(angle)\n    this.ctx.lineWidth = handleWidth\n    this.ctx.beginPath()\n    this.ctx.moveTo(this.canvasHalfWidth, this.canvasHalfHeight)\n    this.ctx.lineTo((this.canvasHalfWidth + angleCos * handleLength),\n      this.canvasHalfHeight + angleSin * handleLength)\n    this.ctx.moveTo(this.canvasHalfWidth, this.canvasHalfHeight)\n    this.ctx.lineTo((this.canvasHalfWidth - angleCos * tailLength),\n      this.canvasHalfHeight - angleSin * tailLength)\n    this.ctx.strokeStyle = handleColor\n    this.ctx.stroke()\n  }\n\n  renderStopWatchModeHandles (millis) { \n    const { hoursHandValue, minutesHandValue, secondsHandValue } = this.getStopWatchModeHandsValuesFromMillis(millis)\n    this.renderHandles(hoursHandValue, minutesHandValue, secondsHandValue)\n  }\n\n  renderModeChangeAnimation (step) {\n    if (this.changeModeAnimationStart === 0) this.changeModeAnimationStart = step\n    else {\n      const { handsStartValues, handsEndValues } = this.getAnimValues()\n      const shouldEndAnimation = this.renderAnimationModeHandles(step, handsStartValues, handsEndValues)\n      if (shouldEndAnimation) {\n        if(this.state.clockMode === ClockMode.RegularToStopWatch) this.state.clockMode = ClockMode.StopWatch\n        else if (this.state.clockMode === ClockMode.StopWatchToRegular) this.state.clockMode = ClockMode.Regular\n      }\n    }\n  }\n\n  getAnimValues () {\n    const nowInMillis = getCurrentTimeInMillis()\n    const { hoursHandValue: rH, minutesHandValue: rM, secondsHandValue: rS } = this.getRegularModeHandsValuesFromMillis(nowInMillis)\n    const { hoursHandValue: sH, minutesHandValue: sM, secondsHandValue: sS } = this.getStopWatchModeHandsValuesFromMillis(this.state.stopWatchMillis)\n    let sourceSecondsHandValue, targetSecondsHandValue\n    let sourceMinutesHandValue, targetMinutesHandValue\n    let sourceHoursHandValue, targetHoursHandValue\n    if (this.state.clockMode === ClockMode.RegularToStopWatch) {\n      sourceSecondsHandValue = rS; sourceMinutesHandValue = rM; sourceHoursHandValue = rH\n      targetSecondsHandValue = sS; targetMinutesHandValue = sM; targetHoursHandValue = sH\n    } else {\n      sourceSecondsHandValue = sS; sourceMinutesHandValue = sM; sourceHoursHandValue = sH\n      targetSecondsHandValue = rS; targetMinutesHandValue = rM; targetHoursHandValue = rH\n    }\n    // If the target value is less than the source one, we add the needed amount\n    // We don't want our clock hands going backward!\n    targetSecondsHandValue = targetSecondsHandValue < sourceSecondsHandValue ? targetSecondsHandValue + 60 : targetSecondsHandValue\n    targetMinutesHandValue = targetMinutesHandValue < sourceMinutesHandValue ? targetMinutesHandValue + 60 : targetMinutesHandValue\n    targetHoursHandValue = targetHoursHandValue % 12\n    targetHoursHandValue = targetHoursHandValue < sourceHoursHandValue ? sourceHoursHandValue < 12 ? targetHoursHandValue + 12 : targetHoursHandValue + 24 : targetHoursHandValue\n    return {\n      handsStartValues: {\n        hours: sourceHoursHandValue,\n        minutes: sourceMinutesHandValue,\n        seconds: sourceSecondsHandValue\n      },\n      handsEndValues: {\n        hours: targetHoursHandValue,\n        minutes: targetMinutesHandValue,\n        seconds: targetSecondsHandValue\n      }\n    }\n  }\n\n  getStopWatchModeHandsValuesFromMillis (millis) {\n    // In stopwatch mode the hour, minute and second hands\n    // are the minute, seconds and deciseconds values\n    // This means we need to account for differences between\n    // angles i.e. a whole lap of the seconds hand should be\n    // 10 deciseconds instead of 60 seconds. Similarly, a whole lap of the hour hand\n    // should be 60 seconds instead of 12 hours\n    const millisecondsInADecisecond = 100\n    const decisecondsToSecondsAngleMapping = 60 / 10\n    const minutesToHoursAngleMapping = 60 / 12\n    const secondsHandValue = ((millis / millisecondsInADecisecond) * decisecondsToSecondsAngleMapping) % 60\n    const { minutesHandValue, secondsHandValue: secondsValue } = this.getRegularModeHandsValuesFromMillis(millis)\n    return { hoursHandValue: minutesHandValue / minutesToHoursAngleMapping, minutesHandValue: secondsValue, secondsHandValue}\n  }\n\n  renderAnimationModeHandles(step, handsStartValues, handsEndValues) {\n    const animDuration = step - this.changeModeAnimationStart\n    const animProgress = animDuration / CangeModeAnimationDurationMillis\n    if (animProgress >= 1) return true\n    else {\n      const mappedProgress = easeInOutCubic(animProgress)\n      const hoursHandValue = this.interpolateValue(mappedProgress, handsStartValues.hours, handsEndValues.hours)      \n      const minutesHandValue = this.interpolateValue(mappedProgress, handsStartValues.minutes, handsEndValues.minutes)      \n      const secondsHandValue = this.interpolateValue(mappedProgress, handsStartValues.seconds, handsEndValues.seconds)\n      this.renderHandles(hoursHandValue, minutesHandValue, secondsHandValue)\n    }\n    return false\n  }\n\n  interpolateValue(progress, startValue, endValue) {\n    return startValue + (endValue - startValue) * progress\n  }\n\n  renderResetStopWatch (step) {\n    if (this.changeModeAnimationStart === 0) this.changeModeAnimationStart = step\n    else {\n      const { hoursHandValue: sH, minutesHandValue: sM, secondsHandValue: sS } = this.getStopWatchModeHandsValuesFromMillis(this.state.stopWatchMillis)\n      const handsStartValues = { hours: sH % 60, minutes: sM % 60, seconds: sS % 60 }\n      const handsEndValues = this.state.stopWatchMillis === 0 ? { hours: 0, minutes: 0, seconds: 0} : { hours: 12, minutes: 60, seconds: 60 }\n      const shouldEndAnimation = this.renderAnimationModeHandles(step, handsStartValues, handsEndValues)\n      if (shouldEndAnimation) {\n        this.state.clockMode = ClockMode.StopWatch\n        this.state.stopWatchMillis = 0\n      }\n    }\n  }\n  \n  resetChangeModeAnimation() {\n    this.changeModeAnimationStart = 0\n  }\n\n}\n\nexport default ClockRenderer","import ClockRenderer from './clock-renderer'\n\nexport const ClockMode = {\n  Regular: 0,\n  StopWatch: 1,\n  StopWatchToRegular: 2,\n  RegularToStopWatch: 3,\n  ResettingStopWatch: 4\n}\n\nclass Clock {\n  constructor(canvas, backgroundCanvas) {\n    this.state = {\n      clockMode: ClockMode.Regular,\n      stopWatchMillis: 0,\n      isStopWatchRunning: false\n    }\n    this.renderer = new ClockRenderer(canvas, backgroundCanvas, this.state)\n    this.topButton = document.getElementById('top-button')\n    this.middleButton = document.getElementById('middle-button')\n    this.bottomButton = document.getElementById('bottom-button')\n    this.stopWatchIntervalMillis = 10\n    this.stopWatchIntervalId = null\n\n    this.addEventListeners()\n  }\n\n  addEventListeners() {\n    this.topButton.addEventListener('click', () => {\n      if (this.state.clockMode === ClockMode.StopWatch && this.state.isStopWatchRunning) this.pauseStopWatch()\n      else if (this.state.clockMode === ClockMode.StopWatch && !this.state.isStopWatchRunning) this.startStopWatch()\n    })\n    this.middleButton.addEventListener('click', () => {\n      if (this.state.clockMode === ClockMode.Regular) this.switchModeToStopWatch()\n      else if (this.state.clockMode === ClockMode.StopWatch) this.switchModeToRegular()\n      this.renderer.switchModeIcons()\n    })\n    this.bottomButton.addEventListener('click', () => {\n      if (this.state.clockMode === ClockMode.StopWatch) {\n        this.resetStopWatch()\n      }\n    })\n  }\n\n  pauseStopWatch () {\n    this.state.isStopWatchRunning = false\n    clearInterval(this.stopWatchIntervalId)\n  }\n\n  startStopWatch () {\n    this.state.isStopWatchRunning = true\n    this.stopWatchIntervalId = setInterval(() => this.increaseMillis(), this.stopWatchIntervalMillis)\n  }\n\n  increaseMillis () {\n    this.state.stopWatchMillis += this.stopWatchIntervalMillis\n    this.renderer.setStopWatchMillis(this.stopWatchMillis)\n  }\n\n  resetStopWatch () {\n    this.pauseStopWatch()\n    this.state.clockMode = ClockMode.ResettingStopWatch\n    this.renderer.resetChangeModeAnimation()\n  }\n\n  switchModeToStopWatch () {\n    this.state.clockMode = ClockMode.RegularToStopWatch\n    this.renderer.resetChangeModeAnimation()\n  }\n\n  switchModeToRegular () {\n    this.state.clockMode = ClockMode.StopWatchToRegular\n    this.renderer.resetChangeModeAnimation()\n  }\n\n  draw () {\n    this.renderer.draw()\n  }\n\n}\n\nexport default Clock","import Clock from './clock'\nimport { create2dCanvas, appendCanvasToDOM } from './utils'\n\nconst main = () => {\n  const canvas = create2dCanvas()\n  canvas.className = 'main-canvas'\n  const backgroundCanvas = create2dCanvas()\n  appendCanvasToDOM(canvas)\n  const clock = new Clock(canvas, backgroundCanvas)\n  clock.draw()\n}\n\nmain()\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}