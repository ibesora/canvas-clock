parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"FOZT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.easeInOutCubic=exports.getCurrentTimeInMillis=exports.appendCanvasToDOM=exports.create2dCanvas=void 0;var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=document.createElement("canvas");return n.width=e,n.height=t,n};exports.create2dCanvas=e;var t=function(e){document.body.appendChild(e)};exports.appendCanvasToDOM=t;var n=function(){var e=new Date;return 36e5*e.getHours()+6e4*e.getMinutes()+1e3*e.getSeconds()+e.getMilliseconds()};exports.getCurrentTimeInMillis=n;var r=function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2};exports.easeInOutCubic=r;
},{}],"OGyF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./clock"),t=require("./utils");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function n(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}var i=10,o="#92949C",r=2,l=3,c="#0C3D4A",h="#353535",d=10,u=2,v="#466B76",g=.7,M=2,k="#000000",H=5,f=1,m="#C4D1D5",C=.8,p=.8,W="#000000",V=.5,y=.9,S="#ff0000",R=.1,A=500,T=function(){function s(e,t,n){a(this,s),this.canvas=e,this.backgroundCanvas=t,this.state=n,this.ctx=e.getContext("2d"),this.backgroundCtx=t.getContext("2d"),this.regularModeIcon=document.getElementById("regular-mode-icon"),this.stopWatchModeIcon=document.getElementById("stopwatch-mode-icon"),this.canvasHalfWidth=e.width/2,this.canvasHalfHeight=e.height/2,this.circleRadians=2*Math.PI,this.changeModeAnimationStart=0,this.renderBackgroundToOffscreenCanvas()}return n(s,[{key:"switchModeIcons",value:function(){var t=this.state.clockMode===e.ClockMode.RegularToStopWatch?this.stopWatchModeIcon:this.regularModeIcon,a=this.state.clockMode===e.ClockMode.RegularToStopWatch?this.regularModeIcon:this.stopWatchModeIcon;t.classList.add("active"),a.classList.remove("active")}},{key:"renderBackgroundToOffscreenCanvas",value:function(){this.renderCirclesToBackgroundCanvas(),this.renderMarksToBackgroundCanvas()}},{key:"renderCirclesToBackgroundCanvas",value:function(){this.renderCircles(this.backgroundCtx)}},{key:"renderCircles",value:function(e){e.clearRect(0,0,this.backgroundCanvas.width,this.backgroundCanvas.height),e.arc(this.canvasHalfWidth,this.canvasHalfHeight,Math.min(this.canvasHalfWidth,this.canvasHalfHeight)-i,0,this.circleRadians),e.strokeStyle=o,e.stroke(),e.beginPath(),e.arc(this.canvasHalfWidth,this.canvasHalfHeight,r,0,this.circleRadians),e.lineWidth=l,e.fillStyle=h,e.strokeStyle=c,e.stroke()}},{key:"renderMarksToBackgroundCanvas",value:function(){this.renderMarks(this.backgroundCtx)}},{key:"renderMarks",value:function(e){for(var t=Math.min(this.canvasHalfWidth,this.canvasHalfHeight)-i,a=0;a<60;++a)if(a%5==0){var s=this.computeCircleAngle(a,12);this.renderMark(e,s,t,d,u,v)}else{var n=this.computeCircleAngle(a,60);this.renderMark(e,n,t,H,f,m)}}},{key:"computeCircleAngle",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.circleRadians*(e/t)-a}},{key:"renderMark",value:function(e,t,a,s,n,i){var o=Math.sin(t),r=Math.cos(t),l=this.canvasHalfWidth+r*a,c=this.canvasHalfHeight+o*a,h=this.canvasHalfWidth+r*(a-s),d=this.canvasHalfHeight+o*(a-s);e.lineWidth=n,e.beginPath(),e.moveTo(l,c),e.lineTo(h,d),e.strokeStyle=i,e.stroke()}},{key:"draw",value:function(e){var t=this;this.clear(),this.drawBackground(),this.drawForeground(e),requestAnimationFrame(function(e){return t.draw(e)})}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"drawBackground",value:function(){this.ctx.drawImage(this.backgroundCanvas,0,0)}},{key:"drawForeground",value:function(e){this.drawHandles(e)}},{key:"drawHandles",value:function(t){this.state.clockMode===e.ClockMode.Regular?this.renderRegularModeHandles():this.state.clockMode===e.ClockMode.StopWatch?this.renderStopWatchModeHandles(this.state.stopWatchMillis):this.state.clockMode===e.ClockMode.RegularToStopWatch||this.state.clockMode===e.ClockMode.StopWatchToRegular?this.renderModeChangeAnimation(t):this.state.clockMode===e.ClockMode.ResettingStopWatch&&this.renderResetStopWatch(t)}},{key:"renderRegularModeHandles",value:function(){var e=(0,t.getCurrentTimeInMillis)(),a=this.getRegularModeHandsValuesFromMillis(e),s=a.hoursHandValue,n=a.minutesHandValue,i=a.secondsHandValue;this.renderHandles(s,n,i)}},{key:"getRegularModeHandsValuesFromMillis",value:function(e){var t=e/1e3;return{hoursHandValue:t/3600,minutesHandValue:(t%=3600)/60,secondsHandValue:t%=60}}},{key:"renderHandles",value:function(e,t,a){var s=this.canvasHalfWidth,n=this.circleRadians/4,i=this.computeCircleAngle(a,60,n),o=this.computeCircleAngle(t,60,n),r=this.computeCircleAngle(e,12,n);this.renderHandle(i,s*y,V,S,s*R),this.renderHandle(o,s*p,C,W),this.renderHandle(r,s*g,M,k)}},{key:"renderHandle",value:function(e,t,a,s){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=Math.sin(e),o=Math.cos(e);this.ctx.lineWidth=a,this.ctx.beginPath(),this.ctx.moveTo(this.canvasHalfWidth,this.canvasHalfHeight),this.ctx.lineTo(this.canvasHalfWidth+o*t,this.canvasHalfHeight+i*t),this.ctx.moveTo(this.canvasHalfWidth,this.canvasHalfHeight),this.ctx.lineTo(this.canvasHalfWidth-o*n,this.canvasHalfHeight-i*n),this.ctx.strokeStyle=s,this.ctx.stroke()}},{key:"renderStopWatchModeHandles",value:function(e){var t=this.getStopWatchModeHandsValuesFromMillis(e),a=t.hoursHandValue,s=t.minutesHandValue,n=t.secondsHandValue;this.renderHandles(a,s,n)}},{key:"renderModeChangeAnimation",value:function(t){if(0===this.changeModeAnimationStart)this.changeModeAnimationStart=t;else{var a=this.getAnimValues(),s=a.handsStartValues,n=a.handsEndValues;this.renderAnimationModeHandles(t,s,n)&&(this.state.clockMode===e.ClockMode.RegularToStopWatch?this.state.clockMode=e.ClockMode.StopWatch:this.state.clockMode===e.ClockMode.StopWatchToRegular&&(this.state.clockMode=e.ClockMode.Regular))}}},{key:"getAnimValues",value:function(){var a,s,n,i,o,r,l=(0,t.getCurrentTimeInMillis)(),c=this.getRegularModeHandsValuesFromMillis(l),h=c.hoursHandValue,d=c.minutesHandValue,u=c.secondsHandValue,v=this.getStopWatchModeHandsValuesFromMillis(this.state.stopWatchMillis),g=v.hoursHandValue,M=v.minutesHandValue,k=v.secondsHandValue;return this.state.clockMode===e.ClockMode.RegularToStopWatch?(a=u,n=d,o=h,s=k,i=M,r=g):(a=k,n=M,o=g,s=u,i=d,r=h),{handsStartValues:{hours:o,minutes:n,seconds:a},handsEndValues:{hours:r=(r%=12)<o?o<12?r+12:r+24:r,minutes:i=i<n?i+60:i,seconds:s=s<a?s+60:s}}}},{key:"getStopWatchModeHandsValuesFromMillis",value:function(e){var t=e/100*6%60,a=this.getRegularModeHandsValuesFromMillis(e);return{hoursHandValue:a.minutesHandValue/5,minutesHandValue:a.secondsHandValue,secondsHandValue:t}}},{key:"renderAnimationModeHandles",value:function(e,a,s){var n=(e-this.changeModeAnimationStart)/A;if(n>=1)return!0;var i=(0,t.easeInOutCubic)(n),o=this.interpolateValue(i,a.hours,s.hours),r=this.interpolateValue(i,a.minutes,s.minutes),l=this.interpolateValue(i,a.seconds,s.seconds);return this.renderHandles(o,r,l),!1}},{key:"interpolateValue",value:function(e,t,a){return t+(a-t)*e}},{key:"renderResetStopWatch",value:function(t){if(0===this.changeModeAnimationStart)this.changeModeAnimationStart=t;else{var a=this.getStopWatchModeHandsValuesFromMillis(this.state.stopWatchMillis),s={hours:a.hoursHandValue%60,minutes:a.minutesHandValue%60,seconds:a.secondsHandValue%60},n=0===this.state.stopWatchMillis?{hours:0,minutes:0,seconds:0}:{hours:12,minutes:60,seconds:60};this.renderAnimationModeHandles(t,s,n)&&(this.state.clockMode=e.ClockMode.StopWatch,this.state.stopWatchMillis=0)}}},{key:"resetChangeModeAnimation",value:function(){this.changeModeAnimationStart=0}}]),s}(),x=T;exports.default=x;
},{"./clock":"dM0o","./utils":"FOZT"}],"dM0o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ClockMode=void 0;var t=e(require("./clock-renderer"));function e(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}var i={Regular:0,StopWatch:1,StopWatchToRegular:2,RegularToStopWatch:3,ResettingStopWatch:4};exports.ClockMode=i;var s=function(){function e(n,a){o(this,e),this.state={clockMode:i.Regular,stopWatchMillis:0,isStopWatchRunning:!1},this.renderer=new t.default(n,a,this.state),this.topButton=document.getElementById("top-button"),this.middleButton=document.getElementById("middle-button"),this.bottomButton=document.getElementById("bottom-button"),this.stopWatchIntervalMillis=10,this.stopWatchIntervalId=null,this.addEventListeners()}return a(e,[{key:"addEventListeners",value:function(){var t=this;this.topButton.addEventListener("click",function(){t.state.clockMode===i.StopWatch&&t.state.isStopWatchRunning?t.pauseStopWatch():t.state.clockMode!==i.StopWatch||t.state.isStopWatchRunning||t.startStopWatch()}),this.middleButton.addEventListener("click",function(){t.state.clockMode===i.Regular?t.switchModeToStopWatch():t.state.clockMode===i.StopWatch&&t.switchModeToRegular(),t.renderer.switchModeIcons()}),this.bottomButton.addEventListener("click",function(){t.state.clockMode===i.StopWatch&&t.resetStopWatch()})}},{key:"pauseStopWatch",value:function(){this.state.isStopWatchRunning=!1,clearInterval(this.stopWatchIntervalId)}},{key:"startStopWatch",value:function(){var t=this;this.state.isStopWatchRunning=!0,this.stopWatchIntervalId=setInterval(function(){return t.increaseMillis()},this.stopWatchIntervalMillis)}},{key:"increaseMillis",value:function(){this.state.stopWatchMillis+=this.stopWatchIntervalMillis,this.renderer.setStopWatchMillis(this.stopWatchMillis)}},{key:"resetStopWatch",value:function(){this.pauseStopWatch(),this.state.clockMode=i.ResettingStopWatch,this.renderer.resetChangeModeAnimation()}},{key:"switchModeToStopWatch",value:function(){this.state.clockMode=i.RegularToStopWatch,this.renderer.resetChangeModeAnimation()}},{key:"switchModeToRegular",value:function(){this.state.clockMode=i.StopWatchToRegular,this.renderer.resetChangeModeAnimation()}},{key:"draw",value:function(){this.renderer.draw()}}]),e}(),c=s;exports.default=c;
},{"./clock-renderer":"OGyF"}],"epB2":[function(require,module,exports) {
"use strict";var a=r(require("./clock")),e=require("./utils");function r(a){return a&&a.__esModule?a:{default:a}}var n=function(){var r=(0,e.create2dCanvas)();r.className="main-canvas";var n=(0,e.create2dCanvas)();(0,e.appendCanvasToDOM)(r),new a.default(r,n).draw()};n();
},{"./clock":"dM0o","./utils":"FOZT"}]},{},["epB2"], null)
//# sourceMappingURL=main.52af83fb.js.map